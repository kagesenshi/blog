---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-106184388464637444
blogger_orig_url: https://blog.kagesenshi.org/2010/05/repozebfg-introduction-and.html
categories:
- old blog
date: '2010-05-08T01:10:00.009+08:00'
layout: post
modified_time: '2011-10-07T12:39:58.079+08:00'
tags:
- Buildout
- Programming
- Guide
- PlanetFedora
- Python
- Fedora
- HOWTO
- PlanetPlone
- Framework
- repoze.bfg
title: repoze.bfg - Introduction and bootstrapping it on buildout
---

2 months without a post here .. T_T ... must .. restart .. blogging ...<br /><br />Anyway, I've been poking around with <a href="http://bfg.repoze.org">repoze.bfg</a> since last week and growing to love it by the days. Been thinking to post a blog on getting started on it but was a bit lazy .. until I saw <a href="http://blog.lowkster.com/2010/05/repoze-bfg.html">lowkster's post</a> about bfg at <a href="http://planet.foss.org.my">planet.foss.org.my</a> a few days ago. <br /><br />Full documentation at <a href="http://docs.repoze.org/bfg">http://docs.repoze.org/bfg</a><br /><br /><b>A little review</b><br /><br />I love <a href="http://wiki.zope.org/zope3/ComponentArchitecture">Zope Component Architecture</a> because the modularity/reusability it offers, but <a href="http://bluebream.zope.org">Bluebream</a>, <a href="http://grok.zope.org">Grok</a> and <a href="http://zope2.zope.org">Zope2</a> feels a bit big for simple web apps or for introducing ZCA to new people. Then I saw BFG.<br /><br />BFG simplifies many concepts which I'm familiar with in Zope2/Zope3, and it does it without overwhelming developers with other parts of the framework. Not endorsing any type of storage backend, and giving an option between URL routing and traversal or a mix of both is a plus.<br /><br />The initial base code is simple and straightforward, and there are no need to subclass any parent class when you want to create your initial project. <br /><br />The starter project is as simple as:<br /><br />models.py:<br /><pre>class MyModel(object):<br />    pass<br /><br />root = MyModel()<br /><br />def get_root(request):<br />    return root<br /></pre><br /><br />views.py:<br /><pre>def my_view(request):<br />    return {'project':'helloworld'}</pre><br /><br />A registration of the view in configure.zcml:<br /><pre>  &lt;view<br />     context=".models.MyModel"<br />     view=".views.my_view"<br />     renderer="templates/mytemplate.pt"<br />     /&gt;</pre><br /><br />And its template file which uses <a href="http://wiki.zope.org/ZPT/TAL">TAL</a> compatible markup.<br /><br />As the initial requirement is simple, and theres close to no enforcement on how developers supposed to write something on it, it made it easy for new people to quickly learn it and start being productive. BFG too, being something that uses many Zope concepts, can utilize many existing Zope/Z3C components out there, and if a developer know how to utilize ZCA well, what developed on a BFG project may also be componentized and reused in other frameworks.<br /><br />What to know more on whats cool with BFG? .. read their <a href="http://bfg.repoze.org/trac/wiki/SalesPitch">Sales Pitch</a> ;)<br /><br /><b>Installation on Buildout</b><br /><br />Depending on your distribution, BFG might be available in your distro repository (Fedora have it). However, being a Zope/Plone developer as my main job, whenever it comes to installing python applications from pypi, I tend to prefer to use <a href="http://www.buildout.org/">buildout</a> to create a self-contained environment. So I'll use buildout here too.<br /><br />First, if you don't have zc.buildout yet, install it using:<br /><pre>$ easy_install zc.buildout</pre><br /><br />Now lets create the contained environment<br /><pre>$ mkdir -p ~/repozebuildout/src<br />$ cd ~/repozebuildout</pre><br /><br />Then create a buildout.cfg file in the directory with this config:<br /><pre>[buildout]<br />parts = <br />    repoze<br />develop =<br />    src/*<br />versions = versions<br /><br />[repoze]<br />recipe = zc.recipe.egg<br />eggs = <br />   repoze.bfg<br />interpreter = python<br />entry-points = paster=paste.script.command:run<br /><br />[versions]<br />repoze.bfg = 1.2.1<br /><br /></pre><br /><br />What the buildout config will do is, it will create a buildout with repoze.bfg framework and its dependencies installed, with an interpreter script configured for the buildout environment, and a paster script.<br /><br />Now initialize the buildout<br /><pre>$ buildout init<br />$ ./bin/buildout -vv</pre><br /><br />After the buildout initialization is done, you may start creating the project skeleton.<br /><br /><b>Creating your first project</b><br /><br />There are several templates to choose from: bfg_starter, bfg_routesalchemy, bfg_alchemy, and bfg_zodb.<br /><br />bfg_starter template simply give a very basic bfg skeleton to get started. Those who are familiar with Pylons/Django might want to look at bfg_routesalchemy and those who are familiar with Zope might want to look at bfg_alchemy and bfg_zodb.<br /><br />For this example, i'll just create a simple project using bfg_starter template.<br /><br /><pre>cd src/<br />../bin/paster create -t bfg_starter helloworld<br />cd ..</pre><br /><br />then , edit buildout.cfg and add helloworld into the eggs section:<br /><br /><pre>[buildout]<br />...<br />[repoze]<br />...<br />eggs = <br />   ...<br />   helloworld<br />...</pre><br /><br />afterward, rerun buildout<br /><pre>./bin/buildout -vvv</pre><br /><br />Once that is done, you may start the server using:<br /><pre>./bin/paster serve src/helloworld/helloworld.ini</pre><br /><br />Now you can start developing on BFG!. Read <a href="http://docs.repoze.org/bfg/1.2/">the documentation</a> to get you started in developing on BFG.<br /><br />Happy hacking :D<div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>