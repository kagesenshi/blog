---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-5589026561103730465
blogger_orig_url: https://blog.kagesenshi.org/2008/01/automated-tar-and-dump-incremental.html
categories:
- old blog
date: '2008-01-18T16:24:00.000+08:00'
layout: post
modified_time: '2011-10-07T12:36:50.964+08:00'
tags:
- PlanetFedora
- Inigo
- Hacks
- FreeBSD
- HOWTO
title: Automated tar and dump incremental backup script for FBSD
---

The recent <a href="http://kaeru.inigo-tech.com/blog/archive/2008/01/17/tracking-down-unstability-and-recovering-freebsd-systems">gmirror failure</a> on Gambit caused us to switch to automated dump and tar instead.<br /><br />Our requirement was like this: Full backup on Mondays (around 3-5am) with daily incremental backups relative to the Monday backup. Whenever a full backup is being performed, the previous backups must not be overwritten until the full backup is done.<br /><br />And the results::<br /><blockquote><a href="http://kagesenshi-private.googlecode.com/svn/trunk/inigo/scripts/inigo-tarball-backups.sh">inigo-tarball-backups.sh</a> - an incremental tar backup script using FreeBSD's Tar<br /><br /><a href="http://kagesenshi-private.googlecode.com/svn/trunk/inigo/scripts/inigo-disk-dumps.sh">inigo-disk-dumps.sh</a> - an incremental live dump script using FreeBSD's Dump - now, I wish Linux's Dump have live dump support.<br /><br /><a href="http://kagesenshi-private.googlecode.com/svn/trunk/inigo/scripts/gnu-tar-incremental-backup.sh">gnu-tar-incremental-backup.sh</a> - an incremental tar backup script using GNU's Tar - I wrote this before the FreeBSD's Tar script on my Fedora laptop, but was surprised that FreeBSD's Tar doesn't have --listed-incremental option (-_-)". </blockquote><br /><br />For the scheduling, I just use cron. <br /><br />Do inform me if you have suggestions to improve the scripts or if you found any risky bug it in.<br /><br /><span style="font-weight:bold;">update</span>: Anybody knows how to properly tar a live directory? (eg: /var/log/).<div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>