---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-6233401238200626460
blogger_orig_url: https://blog.kagesenshi.org/2008/03/utp-network-representation.html
categories:
- old blog
date: '2008-03-31T19:11:00.011+08:00'
layout: post
modified_time: '2008-03-31T23:56:18.416+08:00'
tags:
- UTP-OSS
- Rant
- UTPchat
thumbnail: http://2.bp.blogspot.com/_mggN5b_Zmi0/R_CN5Xs2-7I/AAAAAAAAAmA/89InCw4zlI8/s72-c/dc+gamabr.JPG
title: UTP Network Representation
---

MPPUTP posted a <a href="http://utpress.blogspot.com/2008/03/mpputp-welfare-department_9448.html">post at their news blog</a> about the DirectConnect file transfer is the one that affecting the Internet connection of UTP. And they showed this diagram <br /><br /><a href="http://2.bp.blogspot.com/_mggN5b_Zmi0/R_CN5Xs2-7I/AAAAAAAAAmA/89InCw4zlI8/s1600-h/dc+gamabr.JPG" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img border="0" id="BLOGGER_PHOTO_ID_5183799187857669042" alt="" src="http://2.bp.blogspot.com/_mggN5b_Zmi0/R_CN5Xs2-7I/AAAAAAAAAmA/89InCw4zlI8/s400/dc+gamabr.JPG" style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;"/></a><br /><br />Dear MPP, obviously you are taking this image blindly without checking at how the UTP network functions. Its either you are being tricked about the design, or the real UTP network design is really that severely flawed.<br /><br />Here, let me show you the map of the UTP network, from the the IP number point of view. I draw this map based on my experience analyzing the network structure of UTP to get around certain things to link up the UTPchat servers. How villages are separated, how stuff are being laid out. However, note that this map is mainly based on IP data and base routing only. I couldn't map VLANs and others lower level networking architecture because of the limitation of the access I have.<br /><br />Let begin with the overall layout, [Image 1]<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_0DENAyCRujw/R_EIa8jwAxI/AAAAAAAAAPs/J8hK_wLnXcE/s1600-h/overall-layout.jpg"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" src="http://3.bp.blogspot.com/_0DENAyCRujw/R_EIa8jwAxI/AAAAAAAAAPs/J8hK_wLnXcE/s320/overall-layout.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5183933905105847058" /></a><br /><br /><br />Opps ... like a web? .. oh yes it is... however, weblike doesnt mean bad. More redundant link will help reduce bottlenecks the core. The Internet have a lot of redundant links, just in case one link is down or overload, the other will take over. UTP have some redundant links, but theres something looks fishy with it. I'll explain later in this post.<br /><br />Next up .. the per-village network~. I'll only show 1 village here, with 3 blocks (getting everything to be put here, is too much). [Image 2]<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_0DENAyCRujw/R_D8NMjwAwI/AAAAAAAAAPg/itJ9iwb7DSI/s1600-h/per-village-layout.jpg"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" src="http://3.bp.blogspot.com/_0DENAyCRujw/R_D8NMjwAwI/AAAAAAAAAPg/itJ9iwb7DSI/s320/per-village-layout.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5183920474743112450" /></a><br /><br />Now now now, this is where you file transfers are causing the perception of slow Internet connection. As you can see there, for block A traffic to get to block B, it will need to go through Block A's router then Block B's router. What makes it slow is .. 1 block, theres at least 250 IP available for use, imagine 250 computers, trying to transfer files across different blocks through one gateway. Theres only one phrase to describe that, HEAVY BOTTLENECK!. Transfer for people on the same block will need to go through the switch of the block. When too many traffic going through one gateway, the gateway became overloaded, collisions start happening, etc. <br /><br />DirectConnect servers mostly handles clients on the same-village, any transfer between block of the same , by rights, won't be affecting the upstream internet connection. Unless ... somebody set the routing rules sooooo crazy, that it forces everything to meet at one point before passing it to the other blocks. The diagram you MPP show us, if that really is the real UTP network, than something really need to be done. When you make everything meet at one point, obviously, that one point become the single point of failure. Network routers and switches have maximum capacity, you cant simply direct all those 4000 100mbps LAN traffic through the central network. If you do, obviously ,when those 4000 users start transfering, for example, 1mbps (128KBps) traffic between them (not through the Internet), you'll end up with your central network had to handle all those 4000mbps traffic. The trick is to make each network able to send same-village traffic with the shortest route possible, and provide multiple routes so that when one route is overloaded, it will fallback to another. <br /><br />Btw, DirectConnect, fyi , is not a virtual network. Its just a server which provide one point where users can share the file listing of what being shared on their system. Whenever a transfer occurs, it doesnt go through the DirectConnect server anymore. Its purely between the users and the other users. Imagine the server as a MatchMaker, and 2 clients as a Guy and a Gal. The MatchMaker only become the middle person to match the Guy and Gal with each other. Once the Guy and Gal met, the MatchMaker task ended there, whatever happened afterward, is between those two, the MatchMaker have no business neither control about it. The DirectConnect hubs in no way connected to each other over villages. They are just yet another computer on UTP network, all limitation of the UTP network applies to them too. So, that blue bubble in your diagram, is 100% inaccurate.<br /><br />Okay thats all for now. If I want to explain more indepth of the network design from my analysis, it going to take a very long paper here. Plus, my data is not 100% accurate as I can only view from the IP level of the communication across UTP computers, I will need more access to the network devices and some worthy motivation if you want me to do a proper analysis of the design. I'm not quite supportive to those DirectConnect hubs and filesharing of illegal softwares. The only set of thing I see as okay to be shared are those TV Series, Anime, Free and Open Source Softwares, documents. TV Series and Anime are grey in the legal area because they available freely on the TV in the first place. But Movies, pirated softwares, porns, MP3/music, are generally very clear they stay in the Illegal area, and I am quite against them. However, your blaming that DirectConnect affect the UTP Internet connection is very inaccurate and I can't make myself not to rant. As you can see, DirectConnect handles same-village clients, if there really are overload of traffic, it is happening within the network itself, but not at the gateway to Internet. Of course, I noticed that V1, V2,V4 suddenly connected together while its not supposed to be, but still, it misses the point, if the design is correct, traffic should not go through the servers/gateway to the Internet. Unless, like I said again, some stupid person have set the routers to go through one single point and caused everything to get clogged when heavy traffic.<br /><br />If UTP network is really designed centralized like the diagram you show us, my suggestion, its time for ITMS to learn how to layout everything in a decentralized way or hire someone to design it out. Centralized network design for a lot of traffic is soo not cool, it can't handle all this 4000 students traffic elegantly, breaks easily, and causes bottleneck at the center.<div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>