---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-6490786083006399691
blogger_orig_url: https://blog.kagesenshi.org/2007/02/howto-setting-up-svn-and-dav-in-fedora6.html
categories:
- old blog
date: '2007-02-06T02:08:00.000+08:00'
layout: post
modified_time: '2011-10-07T12:36:51.036+08:00'
tags:
- Linux
- PlanetFedora
- Open Source
- Fedora
- HOWTO
title: 'HOWTO: Setting up SVN and DAV in Fedora6'
---

<blockquote>This Howto is based on a similar howto for FC4 by Ferdy Christant <a href='http://www.ferdychristant.com/blog/articles/DOMM-6NFJ6J'> HERE </a></blockquote><br /><br />I've been trying to set-up a SVN repository for my university's usergroup to get some kickstart in Opensource development among my batch and friends, and UTP as a whole. With some googling, I managed to find some good guides in helping me to set-up up. (to newbies, just for your information, I'm using root user throughout this guide)<br /><br /><span style="font-weight:bold;">Step 1 : Getting the packages</span><br /><br />To set up the repo, you'll need subversion, apache and mod_dav_svn.<br /><pre>yum install subversion mod_dav_svn httpd</pre><br /><br /><span style="font-weight:bold;">Step 2 : Preparing the SVN repository root</span><br /><br />After getting the required packages, set up a place for storing the SVN repos in a suitable place. In this howto, lets assume we store it in <span style="font-style:italic;">/var/svn/</span>. <br /><pre>mkdir /var/svn/ <br />mkdir /var/svn/permissions/  #where the permission settings will be stored<br />mkdir /var/svn/repos/ #where the repos will be stored<br />mkdir /var/svn/users/ #where the user htpasswd will be stored</pre><br /><br />We'll need to give apache access to the repository root, because it will be the application that read/write on it. Giving ownership is safer and easy to manage than chmod'ing the directories to 755.<br /><pre>chown -R apache:apache /var/svn/</pre><br /><br /><span style="font-weight:bold;">Step 3 : Creating a test SVN repository</span><br /><br />Lets create a repository in the directory for testing purposes<br /><pre>cd /var/svn/repos/<br />svnadmin create testrepo</pre><br /><br />chown it to apache<br /><pre>chown -R apache:apache testrepo</pre><br /><br /><span style="font-weight:bold;">Step 4 : Setting up Apache and mod_dav_svn</span><br /><br />The mod_dav_svn RPM already provided a prebuild configuration for this purpose, you can found it at <span style="font-style:italic;">/etc/httpd/conf.d/subversion.conf</span>. For the lazy people, you can just uncomment the all the entries in the config, change the path settings and start/restart/reload httpd. But lets uncomment a few lines first to test whether the repository can work or not. Don't forget to change the SVNParentPath to your SVN repository parent. If you want, you can also change the Location setting (in this howto, I use <span style="font-style:italic;">/svn</span>).<br /><br /><pre>&lt;Location /svn&gt; <br />   DAV svn<br />   SVNParentPath /var/svn/repos<br />#<br />#   # Limit write permission to list of valid users.<br />#   &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;<br />#      # Require SSL connection for password protection.<br />#      # SSLRequireSSL<br />#<br />#      AuthType Basic<br />#      AuthName "Authorization Realm"<br />#      AuthUserFile /path/to/passwdfile<br />#      Require valid-user<br />#   &lt;/LimitExcept&gt;<br />&lt;/Location&gt;</pre><br /><br />Start/Reload apache for the settings to take effect.<br /><pre>service http reload</pre><br />Then, try entering the repository by pointing your browser to the /svn/testrepo folder of the webserver (lets assume we are doing this on localhost). Open http://localhost/svn/testrepo/ . You should see a page with "Revision 0:/" as the header. If you can see the page it, if not, check if you've done something wrong (if you got error 403, check the folder permissions)<br /><br /><span style="font-weight:bold;">Step 6 : Securing the repository</span><br /><br />To secure the repo and DAV, we rely on htpasswd protection, first, create a passwordfile to store the username and password<br /><pre>htpasswd -cb /path/to/passwdfile username password</pre><br />eg:<br /><pre>htpasswd -cb /var/svn/users/passwords myuser mypasswd123</pre><br />Then, uncomment these lines<br /><pre>&lt;Location /svn&gt; <br />   DAV svn<br />   SVNParentPath /var/svn/repos<br />#<br />#   # Limit write permission to list of valid users.<br />   &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;<br />#      # Require SSL connection for password protection.<br />      # SSLRequireSSL<br />#<br />      AuthType Basic<br />      AuthName "Authorization Realm"<br />      AuthUserFile /var/svn/users/passwords<br />      Require valid-user<br />   &lt;/LimitExcept&gt;<br />&lt;/Location&gt;</pre><br />and reload httpd<br /><pre>service httpd reload</pre><br />By now, when you want to open the repo URL, the browser will ask for a username and a password.<br /><br /><span style="font-weight:bold;font-style:italic;">Allowing Read access to all visitors/users</span><br /><br />You might want to allow all users read operation but limit write to known members, you can do this by rearranging entries in the config into this and reload httpd<br /><br /><pre>&lt;Location /svn&gt;<br />   DAV svn<br />   SVNParentPath /svn/repos<br />   SVNListParentPath on<br />   AuthType Basic<br />   AuthName "Authorization Realm"<br />   AuthUserFile /svn/users/passwords<br />#  SSLRequireSSL<br />#<br /># Limit write permission to list of valid users.<br />   &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;<br />#      # Require SSL connection for password protection.<br />#      SSLRequireSSL<br />#      AuthzSVNAccessFile /svn/permissions/svnauthz.conf<br />      Require valid-user<br />   &lt;/LimitExcept&gt;<br />&lt;/Location&gt;</pre><br /><br /><span style="font-weight:bold;">Done</span><br /><br />If you want more advanced access control using per-directory permission, you can read the blog post at <a href='http://www.ferdychristant.com/blog/archive/DOMM-6NFJ6J'> Ferdy Christant's blog</a> or <a href='http://gentoo-wiki.com/HOWTO_Apache2_with_subversion_SVN_and_DAV'>this Gentoo wiki entry</a>. I'm only covering the base set-up of a SVN server on FC6. If you want a Web based SVN interface, consider looking into <a href='http://websvn.tigris.org/'>WebSVN</a>.<div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>