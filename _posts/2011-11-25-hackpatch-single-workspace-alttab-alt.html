---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-2672575154543929034
blogger_orig_url: https://blog.kagesenshi.org/2011/11/hackpatch-single-workspace-alttab-alt.html
categories:
- old blog
date: '2011-11-25T09:59:00.001+08:00'
layout: post
modified_time: '2011-11-25T21:19:30.367+08:00'
tags:
- fedora
- hacks
- gnome
title: '[hackpatch] Single workspace Alt+Tab / Alt+~ in Gnome3'
---

<div dir="ltr" style="text-align: left;" trbidi="on">The default alt+tab functionality in GNOME3 displays all apps and windows from all workspace. This probably is cool for non-power user who just use workspace to keep their current view uncluttered. <br /><br />However for people like me who launch tens of windows and apps, and work with multiple project at once, and rely on the workspace to keep us in context with the project, the all workspace alt+tab is one heck of a confusing feature. This is especially true when I have multiple reference documents, and several browser windows opened, where some are meant for ProjectA, and some are meant for ProjectB. Any mistakes in alt+tab will cause me to get lost trying to go back to the right workspace, and the automatic reordering of alt+tab app icons based on last focus added the confusion even more, forcing me to stop for a while to find my bearing. <br /><br />Anyway created a patch to make alt+tab showing only windows of current workspace.&nbsp; Its quite rough, but good enough to keep my sanity.<br /><br />WARNING: Things might break, use at your own risk, you have been warned. <br /><br /><pre>--- /usr/share/gnome-shell/js/ui/altTab.js.old 2011-11-25 10:21:14.161993561 +0800<br />+++ /usr/share/gnome-shell/js/ui/altTab.js 2011-11-25 21:12:04.178685966 +0800<br />@@ -161,7 +161,7 @@<br />         // standard Alt+Tab order (MRU except for minimized windows),<br />         // and allApps is a list of apps that only appear on other<br />         // workspaces, sorted by user_time, which is good enough.<br />-        return [apps, allApps];<br />+        return [apps, []]; //allApps];<br />     },<br /> <br />     show : function(backward, binding, mask) {<br />@@ -893,7 +893,14 @@<br />             let appIcon = new AppIcon(localApps[i]);<br />             // Cache the window list now; we don't handle dynamic changes here,<br />             // and we don't want to be continually retrieving it<br />-            appIcon.cachedWindows = appIcon.app.get_windows();<br />+            let appWindows = appIcon.app.get_windows();<br />+            let cachedWindows = [];<br />+            for (let w = 0; w &lt; appWindows.length; w++) {<br />+                if (appWindows[w].get_workspace() == activeWorkspace){<br />+                   cachedWindows.push(appWindows[w]);<br />+                }<br />+            }<br />+            appIcon.cachedWindows = cachedWindows;<br />             workspaceIcons.push(appIcon);<br />         }<br />         for (let i = 0; i &lt; otherApps.length; i++) {<br />@@ -1066,6 +1073,9 @@<br />         this._windows = windows;<br /> <br />         for (let i = 0; i &lt; windows.length; i++) {<br />+            if (windows[i].get_workspace() != activeWorkspace) {<br />+              continue;<br />+            }<br />             if (!separatorAdded &amp;&amp; windows[i].get_workspace() != activeWorkspace) {<br />               this.addSeparator();<br />               separatorAdded = true;<br /></pre><br />Pastebin: <a href="http://pastebin.ca/2095832">http://pastebin.ca/2095832 </a><br /><br />Probably its better to turn this into an extension, but the modification is too little to justify that at the moment.<br /><br /><b>Update</b> : Dont display dropdown arrow if theres only 1 window of app in current workspace</div><div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>