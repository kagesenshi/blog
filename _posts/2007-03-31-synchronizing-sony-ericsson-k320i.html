---
author: kagesenshi
blogger_id: tag:blogger.com,1999:blog-28371165.post-1709378174640148620
blogger_orig_url: https://blog.kagesenshi.org/2007/03/synchronizing-sony-ericsson-k320i.html
categories:
- old blog
date: '2007-03-31T12:34:00.000+08:00'
layout: post
modified_time: '2011-10-07T12:36:50.652+08:00'
tags:
- linux
- fedora
- open source
- howto
title: Synchronizing Sony Ericsson K320i Calendar with Evolution Calendar
---

Sorry for the long absence, I'm quite busy with my studies and project works .. well its that time of the semester again .. *sigh<br /><br />As promised , here is a simple howto for synchronizing Sony Ericson K320i with Ximian Evolution<br /><br /><span style="font-weight:bold;">Step 1: Getting the packages</span><br /><br /><ul><li>multisync</li><br /><li>libsyncml</li><br /><li>bluez-utils</li><br /><li>libopensync-plugin-evolution2</li><br /><li>libopensync-plugin-syncml</li></ul><br /><br />All of these packages can be acquired from Fedora repositories except for libopensync-plugin-syncml which you can follow <a href="http://www.harald-hoyer.de/linux_and_syncml_multisync_with_nokia_6280">this guide</a> to install it or until somebody push it into the repositories. If you would like a GUI for multisync, yum for multisync-gui. In this guide, however, I'll cover the console based set-up only.<br /><br /><span style="font-weight:bold;">Step 2: Setting up a multisync group</span><br /><br />First, create a multisync group that will contain a member from evolution2 plugin and a member from syncml plugin. In this example I name the group SyncMe<br /><br /><pre>msynctool --addroup SyncMe<br />msynctool --addmember SyncMe evo2-sync<br />msynctool --addmember SyncMe syncml-obex-client</pre><br /><br /><span style="font-weight:bold;">Step 3: Configuring the SyncML plugin</span><br /><br />Now to configure the SyncML plugin. You will need 2 informations for this. <br /><ul><li>You phone's Bluetooth MAC address</li><br /><li>The channel where SyncML OBEX Client is listening on you phone</li></ul><br /><br /><span style="font-weight:bold;font-style:italic;">Getting you phone's MAC address</span><br /><br />Turn on Bluetooth discovery on your phone. From the PC use hcitool to scan for your phone's MAC.<br /><br /><pre>$ hcitool scan<br />Scanning ...<br />       xx:xx:xx:xx:xx:xx K320i</pre><br /><br />The xx:xx:xx:xx:xx:xx is your phone's MAC address. Copy it and paste it somewhere.<br /><br /><span style="font-weight:bold;font-style:italic;">Getting the SyncML OBEX Client Channel</span><br /><br /><pre>$ sdptool browse xx:xx:xx:xx:xx:xx</pre><br /><br />From the output, find the block that look similar like this<br /><br /><pre>Service Name: OBEX SyncML Client<br />Service RecHandle: 0x00000<br />Service Class ID List:<br />  UUID 128: 00000000-0000-0000-0000-0000ee000000<br />Protocol Descriptor List:<br />  "L2CAP" (0x0000)<br />  "RFCOMM" (0x0000)<br />    Channel: 11<br />  "OBEX" (0x0000)</pre><br /><br />Take the channel number and remember/paste it somewhere.<br /><br /><span style="font-weight:bold;font-style:italic;">Configuring the plugin</span><br /><br />Run this to open a Vi session for editing the SyncML plugin config<br /><br /><pre>msynctool --configure SyncMe 2</pre><br /><br />Edit the config. Put your phone's MAC address into the <span style="font-style:italic;">bluetooth_address</span> tag and the SyncML OBEX Client channel into <span style="font-style:italic;">bluetooth_channel</span> tag.<br /><br />Set also the <span style="font-style:italic;">wbxml</span> tag to the value 1 and the <span style="font-style:italic;">type</span> tag to 2. For the <span style="font-style:italic;">calendar</span> tag, change the value from calendar to agenda.<br /><br />You configuration should look somehow like this after editing<br /><br /><pre>&lt;?xml version="1.0"?&gt;<br />&lt;config&gt;<br />  &lt;!-- (Only for blue) The bluetooth address if the bluetooth mode is selected --&gt;<br />  &lt;bluetooth_address&gt;xx:xx:xx:xx:xx:xx&lt;/bluetooth_address&gt;<br /><br />  &lt;!-- (Only for blue) The bluetooth channel to use (usualy the 11) [x] --&gt;<br />  &lt;bluetooth_channel&gt;11&lt;/bluetooth_channel&gt;<br /><br />  &lt;!-- (Only for USB) The usb interface number of the SYNCML-SYNC target. use syncml-obex-client -u (as root!) to find it. --&gt;<br />  &lt;interface&gt;0&lt;/interface&gt;<br /><br />  &lt;!-- The string that the plugin will use to identify itself. Some devices need a special string here. --&gt;<br />  &lt;identifier&gt;&lt;/identifier&gt;<br /><br />  &lt;!-- The syncml version to use: 0 for 1.0, 1 for 1.1 and 2 for 1.2 --&gt;<br />  &lt;version&gt;1&lt;/version&gt;<br /><br />  &lt;!-- if the plugin should use wbxml --&gt;<br />  &lt;wbxml&gt;1&lt;/wbxml&gt;<br /><br />  &lt;!-- The username to use. Leave empty to not require a username --&gt;<br />  &lt;username&gt;&lt;/username&gt;<br /><br />  &lt;!-- the password for the username --&gt;<br />  &lt;password&gt;&lt;/password&gt;<br /><br />  &lt;!-- sets the connection type to use. 5 means obex over usb, 2 means obex over bluetooth --&gt;<br />  &lt;type&gt;2&lt;/type&gt;<br /><br />  &lt;!-- If wbxml is enabled, defines wether the wbxml should use string tables --&gt;<br />  &lt;usestringtable&gt;0&lt;/usestringtable&gt;<br /><br />  &lt;!-- Never send ADD command, but send REPLACE (not needed normally) --&gt;<br />  &lt;onlyreplace&gt;0&lt;/onlyreplace&gt;<br /><br />  &lt;!-- Sets the maximum allowed size in bytes of incoming messages (some device need this option set). Example: 10000 --&gt;<br />  &lt;recvLimit&gt;0&lt;/recvLimit&gt;<br /><br />  &lt;maxObjSize&gt;0&lt;/maxObjSize&gt;<br /><br />  &lt;!-- The name of the contacts db. Must be the same as the phones sends --&gt;<br />  &lt;contact_db&gt;contacts&lt;/contact_db&gt;<br /><br />  &lt;!-- The name of the calendar db. Must be the same as the phones sends --&gt;<br />  &lt;calendar_db&gt;agenda&lt;/calendar_db&gt;<br /><br />  &lt;!-- The name of the note db. Must be the same as the phones sends --&gt;<br />  &lt;note_db&gt;notes&lt;/note_db&gt;<br />&lt;/config&gt;</pre><br /><br /><span style="font-weight:bold;">Synchronizing</span><br /><br />Now that the configuration is done, you can sync your phone's calendar with Evolution's calendar by running this command.<br /><br /><pre>msynctool --sync SyncMe</pre><br /><br />Done~. Your calendars should be synchronized after that.<br /><br />Btwm there are some problems I'm facing with the sync process. For the contact sync, your contacts might be duplicated a lot of times (which annoys me and made me disable contact syncing altogether). Another problem is that the TODO sync doesnt work, and I get write error sometimes.<br /><br />If anybody got a workaround for this , please tell me kay :D.<br /><br /><span style="font-weight:bold;">References</span><br /><a href="http://en.opensuse.org/OpenSync/SyncML-OBEX-Client">http://en.opensuse.org/OpenSync/SyncML-OBEX-Client</a><br /><a href="http://www.gentoo.org/doc/en/bluetooth-guide.xml">http://www.gentoo.org/doc/en/bluetooth-guide.xml</a><br /><a href="http://www.harald-hoyer.de/linux_and_syncml_multisync_with_nokia_6280">http://www.harald-hoyer.de/linux_and_syncml_multisync_with_nokia_6280</a><br /><a href="http://blog.dukanovic.com/?p=5">http://blog.dukanovic.com/?p=5</a><div class="blogger-post-footer"><br/>
<br/>
- Izhar Firdaus -</div>